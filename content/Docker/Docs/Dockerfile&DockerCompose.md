Dockerfile –∏ Docker Compose ‚Äî —ç—Ç–æ **–¥–æ–ø–æ–ª–Ω—è—é—â–∏–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**, –∞ –Ω–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –ø–æ–¥—Ä–æ–±–Ω–æ.

## üéØ –†–æ–ª–∏ Dockerfile –∏ Docker Compose

### Dockerfile ‚Äî "–ö–ê–ö —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑"
```dockerfile
FROM gcc:12.2.0
WORKDIR /app
COPY . .
RUN g++ -o myapp main.cpp
CMD ["./myapp"]
```
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **Docker –æ–±—Ä–∞–∑–∞**

### Docker Compose ‚Äî "–ö–ê–ö –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã"
```yaml
services:
  my-app:
    build: .          # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Dockerfile –∏–∑ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏!
    ports:
      - "8080:80"
  database:
    image: postgres:15
```
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ä–∫–µ—Å—Ç—Ä–æ–≤–∫–∞ **–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**

## üîÑ –ö–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: Dockerfile + Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```
project/
‚îú‚îÄ‚îÄ Dockerfile          # –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml  # –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
‚îî‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ main.cpp
```

**docker-compose.yml:**
```yaml
services:
  cpp-app:
    build: .        # üëà –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ –∏–∑ Dockerfile
    container_name: my-cpp-app
    volumes:
      - ./data:/app/data
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –¢–æ–ª—å–∫–æ Dockerfile
```bash
# –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑ –≤—Ä—É—á–Ω—É—é
docker build -t my-app .

# –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—Ä—É—á–Ω—É—é
docker run -it --rm my-app
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –¢–æ–ª—å–∫–æ Docker Compose (—Å –≥–æ—Ç–æ–≤—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏)
```yaml
services:
  web:
    image: nginx:alpine    # üëà –ì–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑, –Ω–µ –Ω—É–∂–µ–Ω Dockerfile
    ports:
      - "80:80"
  db:
    image: postgres:15     # üëà –ì–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ü–æ–¥—Ö–æ–¥ | Dockerfile | Docker Compose | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|--------|------------|----------------|-------------------|
| **–¢–æ–ª—å–∫–æ Dockerfile** | ‚úÖ | ‚ùå | –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, CI/CD |
| **–¢–æ–ª—å–∫–æ Docker Compose** | ‚ùå | ‚úÖ | –ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã (nginx, postgres) |
| **–û–±–∞ –≤–º–µ—Å—Ç–µ** | ‚úÖ | ‚úÖ | –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è + —Å–µ—Ä–≤–∏—Å—ã |

## üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: C++ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)

**Dockerfile:**
```dockerfile
FROM gcc:12.2.0 as builder
WORKDIR /app
COPY src/ .
RUN g++ -std=c++17 -o myapp main.cpp helper.cpp

FROM ubuntu:22.04
COPY --from=builder /app/myapp /usr/local/bin/
CMD ["myapp"]
```

**docker-compose.yml:**
```yaml
services:
  cpp-application:
    build: .                    # üëà –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Dockerfile
    container_name: my-cpp-app
    volumes:
      - ./data:/data
    working_dir: /data
```

**–ó–∞–ø—É—Å–∫:**
```bash
docker compose build    # –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ –∏–∑ Dockerfile
docker compose up -d    # –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```

### –ü—Ä–∏–º–µ—Ä 2: –ú—É–ª—å—Ç–∏—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**docker-compose.yml:**
```yaml
services:
  backend:
    build: ./backend           # üëà –°–≤–æ–π Dockerfile –¥–ª—è –±—ç–∫–µ–Ω–¥–∞
    ports:
      - "3000:3000"

  frontend:
    build: ./frontend          # üëà –°–≤–æ–π Dockerfile –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
    ports:
      - "80:80"

  database:
    image: postgres:15         # üëà –ì–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑, Dockerfile –Ω–µ –Ω—É–∂–µ–Ω
```

## üéØ –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û Dockerfile –∫–æ–≥–¥–∞:
- üîß –°–æ–±–∏—Ä–∞–µ—Ç–µ –æ–¥–∏–Ω –æ–±—Ä–∞–∑ –¥–ª—è CI/CD
- üöÄ –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏–ª–∏ —É—Ç–∏–ª–∏—Ç—É
- üß™ –¢–µ—Å—Ç–∏—Ä—É–µ—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û Docker Compose –∫–æ–≥–¥–∞:
- üêò –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã (PostgreSQL, Redis, Nginx)
- üéØ –ù—É–∂–Ω–∞ –±—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- üîó –£–ø—Ä–∞–≤–ª—è–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –û–ë–ê –∫–æ–≥–¥–∞:
- üèóÔ∏è –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- üîÑ –ù—É–∂–Ω—ã –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ–±—Ä–∞–∑—ã + –æ—Ä–∫–µ—Å—Ç—Ä–æ–≤–∫–∞
- üöÄ Production-–æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –° Dockerfile + Docker Compose:
```bash
# 1. –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
code src/main.cpp

# 2. –°–æ–±–∏—Ä–∞–µ—Ç–µ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ (—á–µ—Ä–µ–∑ compose)
docker compose build
docker compose up

# 3. –í–Ω–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
code src/main.cpp

# 4. –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç–µ (Dockerfile) –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç–µ (compose)
docker compose build --no-cache
docker compose up
```

### –ë–µ–∑ Docker Compose (—Ç–æ–ª—å–∫–æ Dockerfile):
```bash
# 1. –°–æ–±–∏—Ä–∞–µ—Ç–µ –æ–±—Ä–∞–∑
docker build -t my-app .

# 2. –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker run -it --rm -v $(pwd)/data:/app/data my-app

# 3. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç–µ
docker build -t my-app .
docker run -it --rm my-app
```

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

### –î–ª—è –≤–∞—à–µ–≥–æ C++ –ø—Ä–æ–µ–∫—Ç–∞:
```yaml
# docker-compose.yml
services:
  cpp-app:
    build: .                    # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Dockerfile
    container_name: cpp-app
    volumes:
      - ./src:/app/src:ro       # –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
      - ./build:/app/build      # –î–ª—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–±–æ—Ä–∫–∏
    working_dir: /app

  compiler-shell:
    build: .
    container_name: compiler-env
    stdin_open: true
    tty: true
    volumes:
      - ./src:/app/src
      - ./build:/app/build
    working_dir: /app
    command: /bin/bash          # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

**–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:**
```bash
# –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker compose up cpp-app

# –ò–ª–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
docker compose run compiler-shell
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
# g++ -o build/myapp src/main.cpp
# ./build/myapp
```

## üöÄ –í—ã–≤–æ–¥

**Dockerfile –∏ Docker Compose –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ!**

- üê≥ **Dockerfile** = —Ä–µ—Ü–µ–ø—Ç –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –±–ª—é–¥–∞ (–æ–±—Ä–∞–∑–∞)
- üéº **Docker Compose** = –¥–∏—Ä–∏–∂–µ—Ä –æ—Ä–∫–µ—Å—Ç—Ä–∞ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)

**–î–ª—è –≤–∞—à–µ–≥–æ C++ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:** Dockerfile –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–±–æ—Ä–∫–∏, –∞ Docker Compose –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–æ–º! üéØ‚ú®